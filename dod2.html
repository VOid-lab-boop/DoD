<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor On Demand - Book Your Doctor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        secondary: '#2ECC71',
                        accent: '#3498DB',
                        dark: '#181818'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .floating-animation {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        .modal {
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-dark text-gray-900 dark:text-white">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/95 dark:bg-dark/95 backdrop-blur-md z-50 border-b border-gray-200 dark:border-gray-700">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2 cursor-pointer" onclick="showPage('home')">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-user-md text-white text-lg"></i>
                    </div>
                    <span class="text-xl font-bold text-primary">Doctor On Demand</span>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <button onclick="showPage('home')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-primary transition-colors">Home</button>
                    <button onclick="showPage('doctors')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-primary transition-colors">Find Doctors</button>
                    <button onclick="showPage('appointments')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-primary transition-colors">My Appointments</button>
                    <button onclick="showPage('profile')" class="nav-btn text-gray-600 dark:text-gray-300 hover:text-primary transition-colors">Profile</button>
                    <button id="auth-btn" onclick="showAuthModal()" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">Sign In</button>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-600 dark:text-gray-300">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden fixed top-16 left-0 right-0 bg-white dark:bg-dark border-b border-gray-200 dark:border-gray-700 z-40">
        <div class="p-4 space-y-3">
            <button onclick="showPage('home')" class="block w-full text-left text-gray-600 dark:text-gray-300 hover:text-primary">Home</button>
            <button onclick="showPage('doctors')" class="block w-full text-left text-gray-600 dark:text-gray-300 hover:text-primary">Find Doctors</button>
            <button onclick="showPage('appointments')" class="block w-full text-left text-gray-600 dark:text-gray-300 hover:text-primary">My Appointments</button>
            <button onclick="showPage('profile')" class="block w-full text-left text-gray-600 dark:text-gray-300 hover:text-primary">Profile</button>
            <button onclick="showAuthModal()" class="w-full bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">Sign In</button>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home" class="page active">
        <!-- Hero Section -->
        <section class="pt-24 pb-16 gradient-bg">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid lg:grid-cols-2 gap-12 items-center">
                    <div class="text-white">
                        <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">
                            Healthcare at Your 
                            <span class="text-yellow-300">Doorstep</span>
                        </h1>
                        <p class="text-xl mb-8 text-white/90 leading-relaxed">
                            Book qualified doctors and dentists for home visits in Jordan. Quality healthcare, when you need it, where you need it.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <button onclick="showPage('doctors')" class="bg-white text-primary px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-base">
                                <i class="fas fa-search mr-2"></i>
                                Find a Doctor
                            </button>
                            <button onclick="showEmergencyModal()" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary transition-colors text-base">
                                <i class="fas fa-ambulance mr-2"></i>
                                Emergency
                            </button>
                        </div>
                        <div class="mt-8 flex items-center space-x-6">
                            <div class="text-center">
                                <div class="text-2xl font-bold">500+</div>
                                <div class="text-sm text-white/80">Verified Doctors</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold">24/7</div>
                                <div class="text-sm text-white/80">Availability</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold">15min</div>
                                <div class="text-sm text-white/80">Avg Response</div>
                            </div>
                        </div>
                    </div>
                    <div class="relative">
                        <div class="floating-animation">
                            <div class="bg-white rounded-2xl p-6 shadow-2xl max-w-md mx-auto">
                                <div class="text-center mb-6">
                                    <div class="w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-heartbeat text-white text-2xl"></i>
                                    </div>
                                    <h3 class="text-lg font-semibold text-gray-800">Quick Booking</h3>
                                    <p class="text-gray-600 text-sm">Available doctors near you</p>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="bookDoctor('dr-sarah')">
                                        <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-user-md text-white"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-800">Dr. Sarah Ahmed</div>
                                            <div class="text-sm text-gray-600">General Physician • 4.9★</div>
                                        </div>
                                        <div class="text-green-500 text-sm font-medium">Available</div>
                                    </div>
                                    <div class="flex items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="bookDoctor('dr-omar')">
                                        <div class="w-10 h-10 bg-accent rounded-full flex items-center justify-center mr-3">
                                            <i class="fas fa-tooth text-white"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="font-medium text-gray-800">Dr. Omar Khalil</div>
                                            <div class="text-sm text-gray-600">Dentist • 4.8★</div>
                                        </div>
                                        <div class="text-green-500 text-sm font-medium">Available</div>
                                    </div>
                                </div>
                                <button onclick="showPage('doctors')" class="w-full mt-4 bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">
                                    View All Doctors
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Stats -->
        <section class="py-16 bg-white dark:bg-gray-800">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid md:grid-cols-4 gap-8 text-center">
                    <div>
                        <div class="text-3xl font-bold text-primary mb-2">1,200+</div>
                        <div class="text-gray-600 dark:text-gray-300">Happy Patients</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-secondary mb-2">500+</div>
                        <div class="text-gray-600 dark:text-gray-300">Verified Doctors</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-accent mb-2">98%</div>
                        <div class="text-gray-600 dark:text-gray-300">Satisfaction Rate</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-purple-500 mb-2">15min</div>
                        <div class="text-gray-600 dark:text-gray-300">Average Response</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services -->
        <section class="py-20">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">Our Services</h2>
                    <p class="text-xl text-gray-600 dark:text-gray-300">Comprehensive healthcare at your convenience</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-hover cursor-pointer" onclick="showPage('doctors')">
                        <div class="w-16 h-16 bg-primary rounded-lg flex items-center justify-center mb-6 mx-auto">
                            <i class="fas fa-user-md text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-4 text-center">General Physician</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-center mb-6">General health checkups, fever, cold, flu, and routine medical care.</p>
                        <div class="text-center">
                            <span class="text-2xl font-bold text-primary">25 JD</span>
                            <span class="text-gray-500 text-sm">/visit</span>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-hover cursor-pointer" onclick="showPage('doctors')">
                        <div class="w-16 h-16 bg-secondary rounded-lg flex items-center justify-center mb-6 mx-auto">
                            <i class="fas fa-tooth text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-4 text-center">Dental Care</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-center mb-6">Dental checkups, cleaning, basic treatments, and oral health care.</p>
                        <div class="text-center">
                            <span class="text-2xl font-bold text-secondary">35 JD</span>
                            <span class="text-gray-500 text-sm">/visit</span>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg card-hover cursor-pointer" onclick="showPage('doctors')">
                        <div class="w-16 h-16 bg-accent rounded-lg flex items-center justify-center mb-6 mx-auto">
                            <i class="fas fa-baby text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-4 text-center">Pediatrics</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-center mb-6">Specialized care for children and infants by certified pediatricians.</p>
                        <div class="text-center">
                            <span class="text-2xl font-bold text-accent">30 JD</span>
                            <span class="text-gray-500 text-sm">/visit</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Doctors Page -->
    <div id="doctors" class="page pt-20">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Search and Filters -->
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg mb-8">
                <h1 class="text-2xl font-bold mb-6">Find a Doctor</h1>
                <div class="grid md:grid-cols-4 gap-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Search</label>
                        <input type="text" id="doctor-search" placeholder="Doctor name or specialty" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Specialty</label>
                        <select id="specialty-filter" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                            <option value="">All Specialties</option>
                            <option value="General Physician">General Physician</option>
                            <option value="Dentist">Dentist</option>
                            <option value="Pediatrician">Pediatrician</option>
                            <option value="Cardiologist">Cardiologist</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Availability</label>
                        <select id="availability-filter" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                            <option value="">All</option>
                            <option value="available">Available Now</option>
                            <option value="today">Available Today</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Rating</label>
                        <select id="rating-filter" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                            <option value="">All Ratings</option>
                            <option value="4.5">4.5+ Stars</option>
                            <option value="4.0">4.0+ Stars</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Doctors List -->
            <div id="doctors-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Doctors will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Appointments Page -->
    <div id="appointments" class="page pt-20">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex justify-between items-center mb-8">
                <h1 class="text-2xl font-bold">My Appointments</h1>
                <button onclick="showPage('doctors')" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">
                    <i class="fas fa-plus mr-2"></i>Book New
                </button>
            </div>

            <!-- Appointment Tabs -->
            <div class="flex space-x-1 mb-8 bg-gray-200 dark:bg-gray-700 rounded-lg p-1">
                <button class="appointment-tab active flex-1 py-2 px-4 rounded-md font-medium transition-colors text-base" data-tab="upcoming">
                    Upcoming
                </button>
                <button class="appointment-tab flex-1 py-2 px-4 rounded-md font-medium transition-colors text-base" data-tab="completed">
                    Completed
                </button>
                <button class="appointment-tab flex-1 py-2 px-4 rounded-md font-medium transition-colors text-base" data-tab="cancelled">
                    Cancelled
                </button>
            </div>

            <!-- Appointments List -->
            <div id="appointments-list">
                <!-- Appointments will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile" class="page pt-20">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="max-w-2xl mx-auto">
                <h1 class="text-2xl font-bold mb-8">My Profile</h1>
                
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6">
                    <div class="flex items-center mb-6">
                        <div class="w-20 h-20 bg-primary rounded-full flex items-center justify-center mr-6">
                            <i class="fas fa-user text-white text-2xl"></i>
                        </div>
                        <div>
                            <h2 class="text-xl font-semibold" id="profile-name">Ahmed Hassan</h2>
                            <p class="text-gray-600 dark:text-gray-300" id="profile-email">ahmed.hassan@email.com</p>
                            <p class="text-gray-600 dark:text-gray-300" id="profile-phone">+962 7X XXX XXXX</p>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Full Name</label>
                            <input type="text" id="name-input" value="Ahmed Hassan" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Email</label>
                            <input type="email" id="email-input" value="ahmed.hassan@email.com" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Phone</label>
                            <input type="tel" id="phone-input" value="+962 7X XXX XXXX" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Date of Birth</label>
                            <input type="date" id="dob-input" value="1990-01-01" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <label class="block text-sm font-medium mb-2">Address</label>
                        <textarea id="address-input" rows="3" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" placeholder="Your full address">Amman, Jordan</textarea>
                    </div>
                    
                    <button onclick="updateProfile()" class="mt-6 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">
                        Update Profile
                    </button>
                </div>

                <!-- Medical History -->
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-semibold mb-4">Medical History</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Allergies</label>
                            <input type="text" placeholder="e.g., Penicillin, Shellfish" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Current Medications</label>
                            <textarea rows="2" placeholder="List any medications you're currently taking" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Medical Conditions</label>
                            <textarea rows="2" placeholder="Any chronic conditions or medical history" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"></textarea>
                        </div>
                    </div>
                    <button onclick="updateMedicalHistory()" class="mt-4 bg-secondary text-white px-6 py-2 rounded-lg hover:bg-secondary/90 transition-colors text-base">
                        Save Medical History
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Auth Modal -->
    <div id="auth-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold mb-2">Welcome Back</h2>
                <p class="text-gray-600 dark:text-gray-300">Sign in to your account</p>
            </div>
            <form onsubmit="handleAuth(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Email</label>
                        <input type="email" required class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" placeholder="your@email.com">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Password</label>
                        <input type="password" required class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base" placeholder="••••••••">
                    </div>
                </div>
                <button type="submit" class="w-full mt-6 bg-primary text-white py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium text-base">
                    Sign In
                </button>
            </form>
            <div class="mt-4 text-center">
                <button onclick="closeModal('auth-modal')" class="text-gray-500 hover:text-gray-700 text-base">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div id="booking-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <h2 class="text-2xl font-bold mb-6">Book Appointment</h2>
            <div id="booking-content">
                <!-- Booking form will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Emergency Modal -->
    <div id="emergency-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4">
            <div class="text-center">
                <div class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-exclamation-triangle text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold mb-4 text-red-600">Emergency Services</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-6">For life-threatening emergencies, please call emergency services immediately.</p>
                <div class="space-y-3">
                    <button onclick="window.open('tel:911')" class="w-full bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition-colors font-medium text-base">
                        <i class="fas fa-phone mr-2"></i>Call Emergency (911)
                    </button>
                    <button onclick="bookEmergencyDoctor()" class="w-full bg-primary text-white py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium text-base">
                        <i class="fas fa-user-md mr-2"></i>Book Emergency Doctor
                    </button>
                    <button onclick="closeModal('emergency-modal')" class="w-full border border-gray-300 dark:border-gray-600 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium text-base">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-check text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold mb-4 text-green-600">Success!</h2>
                <p id="success-message" class="text-gray-600 dark:text-gray-300 mb-6"></p>
                <button onclick="closeModal('success-modal')" class="bg-primary text-white px-8 py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">
                    OK
                </button>
            </div>
        </div>
    </div>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Global state
        let currentUser = null;
        let doctors = [];
        let appointments = [];
        let currentDoctor = null;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeDoctors();
            loadAppointments();
            setupEventListeners();
        });

        // Sample doctors data
        function initializeDoctors() {
            doctors = [
                {
                    id: 'dr-sarah',
                    name: 'Dr. Sarah Ahmed',
                    specialty: 'General Physician',
                    rating: 4.9,
                    experience: 8,
                    price: 25,
                    available: true,
                    image: 'https://i.pravatar.cc/150?img=1',
                    bio: 'Experienced general physician with focus on family medicine and preventive care.',
                    location: 'Amman - Abdoun',
                    languages: ['Arabic', 'English'],
                    education: 'MD from University of Jordan'
                },
                {
                    id: 'dr-omar',
                    name: 'Dr. Omar Khalil',
                    specialty: 'Dentist',
                    rating: 4.8,
                    experience: 6,
                    price: 35,
                    available: true,
                    image: 'https://i.pravatar.cc/150?img=11',
                    bio: 'Skilled dentist specializing in general dentistry and oral health.',
                    location: 'Amman - Sweifieh',
                    languages: ['Arabic', 'English'],
                    education: 'DDS from Jordan University of Science and Technology'
                },
                {
                    id: 'dr-fatima',
                    name: 'Dr. Fatima Al-Zahra',
                    specialty: 'Pediatrician',
                    rating: 4.9,
                    experience: 10,
                    price: 30,
                    available: false,
                    image: 'https://i.pravatar.cc/150?img=5',
                    bio: 'Pediatrician with extensive experience in child healthcare and development.',
                    location: 'Amman - Jabal Amman',
                    languages: ['Arabic', 'English', 'French'],
                    education: 'MD Pediatrics from American University of Beirut'
                },
                {
                    id: 'dr-mohammad',
                    name: 'Dr. Mohammad Qasemi',
                    specialty: 'Cardiologist',
                    rating: 4.7,
                    experience: 12,
                    price: 50,
                    available: true,
                    image: 'https://i.pravatar.cc/150?img=12',
                    bio: 'Cardiologist specializing in heart disease prevention and treatment.',
                    location: 'Amman - Medical City',
                    languages: ['Arabic', 'English'],
                    education: 'MD Cardiology from Royal College of Physicians'
                },
                {
                    id: 'dr-layla',
                    name: 'Dr. Layla Hassan',
                    specialty: 'General Physician',
                    rating: 4.6,
                    experience: 5,
                    price: 25,
                    available: true,
                    image: 'https://i.pravatar.cc/150?img=9',
                    bio: 'Young and enthusiastic doctor focused on modern healthcare approaches.',
                    location: 'Amman - Khalda',
                    languages: ['Arabic', 'English'],
                    education: 'MD from Hashemite University'
                },
                {
                    id: 'dr-karim',
                    name: 'Dr. Karim Mufti',
                    specialty: 'Dentist',
                    rating: 4.5,
                    experience: 7,
                    price: 40,
                    available: false,
                    image: 'https://i.pravatar.cc/150?img=14',
                    bio: 'Experienced dentist with focus on cosmetic and restorative dentistry.',
                    location: 'Amman - Shmeisani',
                    languages: ['Arabic', 'English'],
                    education: 'DDS from Damascus University'
                }
            ];
            renderDoctors();
        }

        // Sample appointments data
        function loadAppointments() {
            appointments = [
                {
                    id: 'apt-1',
                    doctorId: 'dr-sarah',
                    doctorName: 'Dr. Sarah Ahmed',
                    specialty: 'General Physician',
                    date: '2024-01-15',
                    time: '10:00 AM',
                    status: 'upcoming',
                    price: 25,
                    symptoms: 'Fever and headache'
                },
                {
                    id: 'apt-2',
                    doctorId: 'dr-omar',
                    doctorName: 'Dr. Omar Khalil',
                    specialty: 'Dentist',
                    date: '2024-01-10',
                    time: '2:00 PM',
                    status: 'completed',
                    price: 35,
                    symptoms: 'Routine checkup'
                }
            ];
            renderAppointments();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                document.getElementById('mobile-menu').classList.toggle('hidden');
            });

            // Search and filter listeners
            document.getElementById('doctor-search').addEventListener('input', filterDoctors);
            document.getElementById('specialty-filter').addEventListener('change', filterDoctors);
            document.getElementById('availability-filter').addEventListener('change', filterDoctors);
            document.getElementById('rating-filter').addEventListener('change', filterDoctors);

            // Appointment tabs
            document.querySelectorAll('.appointment-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.appointment-tab').forEach(t => {
                        t.classList.remove('active', 'bg-primary', 'text-white');
                        t.classList.add('text-gray-600', 'dark:text-gray-300');
                    });
                    tab.classList.add('active', 'bg-primary', 'text-white');
                    tab.classList.remove('text-gray-600', 'dark:text-gray-300');
                    renderAppointments(tab.dataset.tab);
                });
            });
        }

        // Page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            document.getElementById('mobile-menu').classList.add('hidden');

            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-primary', 'font-semibold');
            });
        }

        // Render doctors
        function renderDoctors(filteredDoctors = doctors) {
            const container = document.getElementById('doctors-list');
            container.innerHTML = '';

            filteredDoctors.forEach(doctor => {
                const doctorCard = document.createElement('div');
                doctorCard.className = 'bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 card-hover cursor-pointer';
                doctorCard.onclick = () => showDoctorDetails(doctor);
                
                doctorCard.innerHTML = `
                    <div class="flex items-center mb-4">
                        <img src="${doctor.image}" alt="${doctor.name}" class="w-16 h-16 rounded-full mr-4">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold">${doctor.name}</h3>
                            <p class="text-gray-600 dark:text-gray-300">${doctor.specialty}</p>
                            <div class="flex items-center">
                                <div class="flex text-yellow-400 mr-2">
                                    ${'★'.repeat(Math.floor(doctor.rating))}${'☆'.repeat(5-Math.floor(doctor.rating))}
                                </div>
                                <span class="text-sm text-gray-500">${doctor.rating} (${Math.floor(Math.random() * 50) + 10} reviews)</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold text-primary">${doctor.price} JD</div>
                            <div class="text-sm ${doctor.available ? 'text-green-500' : 'text-red-500'}">
                                ${doctor.available ? 'Available' : 'Busy'}
                            </div>
                        </div>
                    </div>
                    <div class="text-sm text-gray-600 dark:text-gray-300 mb-4">
                        <i class="fas fa-map-marker-alt mr-1"></i>${doctor.location}
                        <span class="ml-4"><i class="fas fa-graduation-cap mr-1"></i>${doctor.experience} years exp.</span>
                    </div>
                    <button onclick="event.stopPropagation(); bookDoctor('${doctor.id}')" 
                            class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-colors text-base ${!doctor.available ? 'opacity-50 cursor-not-allowed' : ''}" 
                            ${!doctor.available ? 'disabled' : ''}>
                        ${doctor.available ? 'Book Now' : 'Not Available'}
                    </button>
                `;
                
                container.appendChild(doctorCard);
            });
        }

        // Filter doctors
        function filterDoctors() {
            const search = document.getElementById('doctor-search').value.toLowerCase();
            const specialty = document.getElementById('specialty-filter').value;
            const availability = document.getElementById('availability-filter').value;
            const rating = parseFloat(document.getElementById('rating-filter').value) || 0;

            const filtered = doctors.filter(doctor => {
                const matchesSearch = doctor.name.toLowerCase().includes(search) || 
                                    doctor.specialty.toLowerCase().includes(search);
                const matchesSpecialty = !specialty || doctor.specialty === specialty;
                const matchesAvailability = !availability || 
                                          (availability === 'available' && doctor.available) ||
                                          (availability === 'today' && doctor.available);
                const matchesRating = doctor.rating >= rating;

                return matchesSearch && matchesSpecialty && matchesAvailability && matchesRating;
            });

            renderDoctors(filtered);
        }

        // Show doctor details
        function showDoctorDetails(doctor) {
            currentDoctor = doctor;
            document.getElementById('booking-content').innerHTML = `
                <div class="flex items-center mb-6">
                    <img src="${doctor.image}" alt="${doctor.name}" class="w-20 h-20 rounded-full mr-6">
                    <div>
                        <h3 class="text-xl font-semibold">${doctor.name}</h3>
                        <p class="text-gray-600 dark:text-gray-300">${doctor.specialty}</p>
                        <div class="flex items-center mb-2">
                            <div class="flex text-yellow-400 mr-2">
                                ${'★'.repeat(Math.floor(doctor.rating))}${'☆'.repeat(5-Math.floor(doctor.rating))}
                            </div>
                            <span class="text-sm text-gray-500">${doctor.rating}</span>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-300">${doctor.location}</p>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h4 class="font-semibold mb-2">About</h4>
                    <p class="text-gray-600 dark:text-gray-300 text-sm">${doctor.bio}</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <h4 class="font-semibold mb-2">Experience</h4>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">${doctor.experience} years</p>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-2">Languages</h4>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">${doctor.languages.join(', ')}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-2">Education</h4>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">${doctor.education}</p>
                    </div>
                    <div>
                        <h4 class="font-semibold mb-2">Consultation Fee</h4>
                        <p class="text-primary font-bold">${doctor.price} JD</p>
                    </div>
                </div>
                
                ${doctor.available ? `
                <form onsubmit="confirmBooking(event)">
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">Preferred Date</label>
                            <input type="date" required min="${new Date().toISOString().split('T')[0]}" 
                                   class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">Preferred Time</label>
                            <select required class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base">
                                <option value="">Select time</option>
                                <option value="09:00">9:00 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="14:00">2:00 PM</option>
                                <option value="15:00">3:00 PM</option>
                                <option value="16:00">4:00 PM</option>
                                <option value="17:00">5:00 PM</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Symptoms/Reason for Visit</label>
                        <textarea required rows="3" placeholder="Describe your symptoms or reason for the visit" 
                                  class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"></textarea>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Your Address</label>
                        <textarea required rows="2" placeholder="Please provide your complete address for the home visit" 
                                  class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary dark:bg-gray-700 text-base"></textarea>
                    </div>
                    
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-lg font-semibold">Total: ${doctor.price} JD</span>
                        <span class="text-sm text-gray-500">Payment on arrival</span>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button type="button" onclick="closeModal('booking-modal')" 
                                class="flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-base">
                            Cancel
                        </button>
                        <button type="submit" class="flex-1 bg-primary text-white py-3 rounded-lg hover:bg-primary/90 transition-colors text-base">
                            Confirm Booking
                        </button>
                    </div>
                </form>
                ` : `
                <div class="text-center py-8">
                    <div class="text-red-500 mb-4">
                        <i class="fas fa-calendar-times text-3xl"></i>
                    </div>
                    <h4 class="text-lg font-semibold mb-2">Doctor Not Available</h4>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">This doctor is currently busy. Please try again later or choose another doctor.</p>
                    <button onclick="closeModal('booking-modal')" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors text-base">
                        Close
                    </button>
                </div>
                `}
            `;
            document.getElementById('booking-modal').classList.remove('hidden');
        }

        // Book doctor
        function bookDoctor(doctorId) {
            const doctor = doctors.find(d => d.id === doctorId);
            if (doctor && doctor.available) {
                showDoctorDetails(doctor);
            } else {
                showMessage('Doctor is currently not available. Please try again later.', 'error');
            }
        }

        // Confirm booking
        function confirmBooking(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            
            const appointment = {
                id: 'apt-' + Date.now(),
                doctorId: currentDoctor.id,
                doctorName: currentDoctor.name,
                specialty: currentDoctor.specialty,
                date: form.querySelector('input[type="date"]').value,
                time: form.querySelector('select').value,
                status: 'upcoming',
                price: currentDoctor.price,
                symptoms: form.querySelector('textarea').value,
                address: form.querySelectorAll('textarea')[1].value
            };
            
            appointments.unshift(appointment);
            closeModal('booking-modal');
            showMessage('Appointment booked successfully! The doctor will contact you shortly.', 'success');
            renderAppointments();
        }

        // Render appointments
        function renderAppointments(status = 'upcoming') {
            const container = document.getElementById('appointments-list');
            const filteredAppointments = appointments.filter(apt => apt.status === status);
            
            if (filteredAppointments.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-12">
                        <div class="text-gray-400 mb-4">
                            <i class="fas fa-calendar-alt text-4xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">No ${status} appointments</h3>
                        <p class="text-gray-600 dark:text-gray-300">You don't have any ${status} appointments yet.</p>
                        ${status === 'upcoming' ? `
                            <button onclick="showPage('doctors')" class="mt-4 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors text-base">
                                Book New Appointment
                            </button>
                        ` : ''}
                    </div>
                `;
                return;
            }
            
            container.innerHTML = filteredAppointments.map(appointment => `
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-4">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center">
                            <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center mr-4">
                                <i class="fas fa-user-md text-white"></i>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold">${appointment.doctorName}</h3>
                                <p class="text-gray-600 dark:text-gray-300">${appointment.specialty}</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-bold text-primary">${appointment.price} JD</div>
                            <div class="text-sm ${appointment.status === 'upcoming' ? 'text-green-500' : 
                                                  appointment.status === 'completed' ? 'text-blue-500' : 'text-red-500'}">
                                ${appointment.status.charAt(0).toUpperCase() + appointment.status.slice(1)}
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4 mb-4 text-sm">
                        <div>
                            <i class="fas fa-calendar mr-2 text-gray-400"></i>
                            ${new Date(appointment.date).toLocaleDateString('en-US', { 
                                weekday: 'long', 
                                year: 'numeric', 
                                month: 'long', 
                                day: 'numeric' 
                            })}
                        </div>
                        <div>
                            <i class="fas fa-clock mr-2 text-gray-400"></i>
                            ${appointment.time}
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="text-sm text-gray-600 dark:text-gray-300">
                            <strong>Reason:</strong> ${appointment.symptoms}
                        </div>
                    </div>
                    
                    <div class="flex space-x-3">
                        ${appointment.status === 'upcoming' ? `
                            <button onclick="trackAppointment('${appointment.id}')" 
                                    class="bg-secondary text-white px-4 py-2 rounded-lg hover:bg-secondary/90 transition-colors text-sm">
                                <i class="fas fa-map-marker-alt mr-1"></i>Track Doctor
                            </button>
                            <button onclick="cancelAppointment('${appointment.id}')" 
                                    class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors text-sm">
                                <i class="fas fa-times mr-1"></i>Cancel
                            </button>
                            <button onclick="rescheduleAppointment('${appointment.id}')" 
                                    class="border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm">
                                <i class="fas fa-calendar-alt mr-1"></i>Reschedule
                            </button>
                        ` : appointment.status === 'completed' ? `
                            <button onclick="rateDoctor('${appointment.doctorId}')" 
                                    class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm">
                                <i class="fas fa-star mr-1"></i>Rate Doctor
                            </button>
                            <button onclick="bookAgain('${appointment.doctorId}')" 
                                    class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm">
                                <i class="fas fa-repeat mr-1"></i>Book Again
                            </button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        // Track appointment
        function trackAppointment(appointmentId) {
            showMessage('Dr. Ahmed is on the way! Estimated arrival: 15 minutes. You can track real-time location in the full app.', 'success');
        }

        // Cancel appointment
        function cancelAppointment(appointmentId) {
            showConfirmDialog('Are you sure you want to cancel this appointment?', () => {
                const appointment = appointments.find(apt => apt.id === appointmentId);
                if (appointment) {
                    appointment.status = 'cancelled';
                    renderAppointments();
                    showMessage('Appointment cancelled successfully.', 'success');
                }
            });
        }

        // Reschedule appointment
        function rescheduleAppointment(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment) {
                const doctor = doctors.find(d => d.id === appointment.doctorId);
                if (doctor) {
                    showDoctorDetails(doctor);
                }
            }
        }

        // Rate doctor
        function rateDoctor(doctorId) {
            showMessage('Thank you for your feedback! Rating feature will be available in the full app.', 'success');
        }

        // Book again
        function bookAgain(doctorId) {
            const doctor = doctors.find(d => d.id === doctorId);
            if (doctor) {
                showDoctorDetails(doctor);
            }
        }

        // Emergency booking
        function bookEmergencyDoctor() {
            closeModal('emergency-modal');
            const emergencyDoctor = doctors.find(d => d.available && d.specialty === 'General Physician');
            if (emergencyDoctor) {
                const appointment = {
                    id: 'apt-emergency-' + Date.now(),
                    doctorId: emergencyDoctor.id,
                    doctorName: emergencyDoctor.name,
                    specialty: emergencyDoctor.specialty,
                    date: new Date().toISOString().split('T')[0],
                    time: 'ASAP',
                    status: 'upcoming',
                    price: emergencyDoctor.price + 10, // Emergency fee
                    symptoms: 'Emergency consultation',
                    priority: 'emergency'
                };
                appointments.unshift(appointment);
                showMessage('Emergency doctor booked! Dr. ' + emergencyDoctor.name + ' will arrive within 10 minutes.', 'success');
            } else {
                showMessage('No emergency doctors available right now. Please call 911 for immediate assistance.', 'error');
            }
        }

        // Auth functions
        function showAuthModal() {
            document.getElementById('auth-modal').classList.remove('hidden');
        }

        function handleAuth(event) {
            event.preventDefault();
            currentUser = {
                name: 'Ahmed Hassan',
                email: 'ahmed.hassan@email.com',
                phone: '+962 7X XXX XXXX'
            };
            updateAuthUI();
            closeModal('auth-modal');
            showMessage('Welcome back, Ahmed!', 'success');
        }

        function updateAuthUI() {
            const authBtn = document.getElementById('auth-btn');
            if (currentUser) {
                authBtn.textContent = currentUser.name.split(' ')[0];
                authBtn.onclick = () => showPage('profile');
            } else {
                authBtn.textContent = 'Sign In';
                authBtn.onclick = showAuthModal;
            }
        }

        // Profile functions
        function updateProfile() {
            showMessage('Profile updated successfully!', 'success');
        }

        function updateMedicalHistory() {
            showMessage('Medical history saved successfully!', 'success');
        }

        // Modal functions
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        function showEmergencyModal() {
            document.getElementById('emergency-modal').classList.remove('hidden');
        }

        function showMessage(message, type = 'success') {
            document.getElementById('success-message').textContent = message;
            document.getElementById('success-modal').classList.remove('hidden');
        }

        function showConfirmDialog(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <p class="text-gray-700 dark:text-gray-300 mb-4">${message}</p>
                    <div class="flex justify-end space-x-3">
                        <button class="px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-base" onclick="this.closest('.fixed').remove()">Cancel</button>
                        <button class="px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded text-base" onclick="this.closest('.fixed').remove(); (${onConfirm})()">Confirm</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Simulate user already logged in for demo
        setTimeout(() => {
            currentUser = {
                name: 'Ahmed Hassan',
                email: 'ahmed.hassan@email.com',
                phone: '+962 7X XXX XXXX'
            };
            updateAuthUI();
        }, 1000);
    </script>
</body>
</html>
```

